(()=>{"use strict";var e=function e(n,t){for(var i=0,a=Object.keys(t);i<a.length;i++){var o=a[i];t[o]instanceof Object&&Object.assign(t[o],e(n[o],t[o]))}return Object.assign(n||{},t),n};function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function t(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function i(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var o=function(){function o(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"nav.sidebar",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t(this,o),a(this,"defaultOptions",{OverlayScrollbars:{}}),this.query=n,this.options=e(this.defaultOptions,i)}var r,s;return r=o,(s=[{key:"init",value:function(){this.el=n(this.query)===HTMLElement?this.query:document.querySelector(this.query),this.addSidebarItemEventListener(),this.openSubMenuIfActive(),this.constructSidebarCollapse(),this.addMenuScrollbar()}},{key:"addMenuScrollbar",value:function(){if(window&&window.OverlayScrollbars){var e=window.OverlayScrollbars;this.OverlayScrollbars=e(document.querySelectorAll(".sidebar-content"),this.options.OverlayScrollbars)}}},{key:"addSidebarItemEventListener",value:function(){var e=this;this.el.querySelectorAll(".sidebar-menu").forEach((function(n){n.querySelectorAll(".sidebar-item").forEach((function(n){var t=n.querySelector(".sidebar-link");n.classList.contains("has-submenu")&&t.addEventListener("click",(function(t){t.preventDefault();var i=n.querySelector(".sidebar-submenu");e.OverlayScrollbars.sleep(),n.classList.contains("submenu-open")?i.animate([{height:i.scrollHeight+"px"},{height:0}],{duration:400,easing:"ease-in"}).onfinish=function(){n.classList.remove("submenu-open"),e.OverlayScrollbars.update()}:(n.classList.add("submenu-open"),i.animate([{height:0},{height:i.scrollHeight+"px"}],{duration:400,easing:"ease-out"}).onfinish=function(){e.OverlayScrollbars.update()})}))}))}))}},{key:"constructSidebarCollapse",value:function(){var e=this;document.querySelector(".sidebar-collapse-btn").addEventListener("click",(function(){var n=e.el.querySelector(".sidebar-wrapper");if(e.el.classList.contains("sidebar-collapse")){e.el.classList.remove("sidebar-collapse");document.body.classList.remove("sidebar-collapsed"),document.querySelector(".main").animate([{marginLeft:"5rem"},{marginLeft:n.scrollWidth+"px"}],{duration:500,easing:"ease-in-out"}),n.animate([{width:"80px"},{width:n.scrollWidth+"px"}],{duration:500,easing:"ease-in-out"}).onfinish=function(){n.querySelector(".sidebar-brand span").style.removeProperty("display"),n.querySelectorAll(".sidebar-content > *").forEach((function(e){e.classList.contains("sidebar-menu")||(e.style.display=null,e.animate([{opacity:0},{opacity:1}],{duration:200,easing:"ease-in"}))}))},setTimeout((function(){return n.querySelectorAll(".sidebar-item-header").forEach((function(e,n){e.style.display=null,e.animate([{opacity:0},{opacity:1}],{duration:250,easing:"ease-in"})})),n.querySelectorAll(".sidebar-link span").forEach((function(e){e.style.display=null,e.animate([{opacity:0},{opacity:1}],{duration:250,easing:"ease-in"})})),document.body.classList.remove("sidebar-collapsed"),void setTimeout((function(){e.openSubMenuIfActive()}),250)}),400)}else{n.querySelectorAll(".sidebar-item-header").forEach((function(e,i){e.animate([{opacity:1},{opacity:0}],{duration:100,easing:"ease-in"}).onfinish=function(){e.style.display="none",i===n.querySelectorAll(".sidebar-item-header").length-1&&t()}}));var t=function(){n.querySelector(".sidebar-brand span").animate([{opacity:1,display:"inline"},{opacity:0,display:"none"}],{duration:500,easing:"ease-in"}).onfinish=function(){return n.querySelector(".sidebar-brand span").style.display="none"},n.querySelectorAll(".sidebar-content > *").forEach((function(e){e.classList.contains("sidebar-menu")||(e.animate([{opacity:1},{opacity:0}],{duration:300,easing:"ease-in"}).onfinish=function(){e.style.display="none"})})),setTimeout((function(){return i()}),350)},i=function(){n.querySelectorAll(".sidebar-link span").forEach((function(e){e.animate([{opacity:1},{opacity:0}],{duration:300,easing:"ease-in"}).onfinish=function(){e.style.display="none"}})),setTimeout((function(){document.querySelector(".main").animate([{marginLeft:n.scrollWidth+"px"},{marginLeft:"5rem"}],{duration:500,easing:"ease-in-out"}),n.animate([{width:n.scrollWidth+"px"},{width:"80px"}],{duration:500,easing:"ease-in-out"}).onfinish=function(){a()}}),300)},a=function(){n.querySelector(".sidebar-brand span").style.removeProperty("display"),e.el.classList.add("sidebar-collapse"),document.body.classList.add("sidebar-collapsed"),e.collapseAllSubMenu()}}}))}},{key:"openSubMenuIfActive",value:function(){this.el.querySelectorAll(".sidebar-menu").forEach((function(e){e.querySelectorAll(".sidebar-item").forEach((function(e){if(e.classList.contains("active"))for(var n=e.parentElement.parentElement;n.classList.add("submenu-open"),n.classList.add("submenu-active"),n.parentElement.classList.contains("sidebar-submenu")&&n.parentElement.parentElement.classList.contains("sidebar-item");)n=n.parentElement.parentElement}))}))}},{key:"collapseAllSubMenu",value:function(){this.el.querySelectorAll(".sidebar-menu").forEach((function(e){e.querySelectorAll(".sidebar-item").forEach((function(e){if(e.classList.contains("submenu-open")){var n=e.querySelector(".sidebar-submenu");n.animate([{height:n.scrollHeight+"px"},{height:0}],{duration:400,easing:"ease-in"}).onfinish=function(){e.classList.remove("submenu-open")}}}))}))}}])&&i(r.prototype,s),o}();"undefined"!=typeof document&&document.addEventListener("DOMContentLoaded",(function(){var e;document.body.classList.contains("auto-init")&&((e=new o).init(),void 0!==window.feather&&feather.replace(),"undefined"!=typeof window&&(window.sidebar=e))}))})();